<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Chordaliftï½œç¤¾ç¾¤è¨ˆç•«</title>
  <meta name="description" content="Chordalift â€“ æ”¯æ´ Chorda ç©å®¶ç¤¾ç¾¤çš„å…è²»å·¥å…·èˆ‡ä¸‹è¼‰ç«™"/>
  <meta name="theme-color" content="#3a70ba"/>

  <!-- Icons & PWAï¼ˆç›¸å°è·¯å¾‘ï¼Œé©é… GitHub Pages å­è·¯å¾‘ï¼‰ -->
  <link rel="icon" href="favicon.ico">
  <link rel="apple-touch-icon" href="apple-touch-icon.png">
  <link rel="manifest" href="site.webmanifest">

  <style>
    :root{
      /* Brand palette */
      --bg:#0b1020; --surface:#121a33; --ink:#e1e2e2; --muted:#a4a4a4;
      --brand:#3a70ba; --brand-d:#365d91; --brand-l:#8badd6; --line:#273157;
      --ok:#58d68d; --warn:#f5b041;
    }
    html,body{
      margin:0; padding:0; background:var(--bg); color:var(--ink);
      font-family: SimHei,"Noto Sans TC","Microsoft JhengHei",system-ui,sans-serif;
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
    }
    .wrap{max-width:1000px; margin:0 auto; padding:32px 20px;}
    .hero{display:flex; gap:24px; align-items:center; flex-wrap:wrap;}
    .logo{max-width:420px; height:auto; display:block}
    .title{margin:0; font-size:28px; font-family:"Courier New", Courier, monospace;}
    .tag{margin:6px 0 0; color:var(--muted)}
    .grid{display:grid; grid-template-columns:repeat(12,1fr); gap:16px; margin-top:18px}
    .card{
      background:var(--surface); border:1px solid var(--line);
      border-radius:16px; padding:20px;
    }
    .col-6{grid-column:span 6}
    .col-12{grid-column:span 12}
    @media (max-width:900px){ .col-6{grid-column:span 12} }

    .btn{display:inline-block; padding:10px 14px; border-radius:12px;
      background:var(--brand); color:#fff; text-decoration:none;
      border:1px solid var(--brand-d)}
    .btn:active{transform:translateY(1px)}
    .btn.secondary{background:transparent; color:var(--ink)}
    .btn-row{display:flex; gap:10px; flex-wrap:wrap}
    .hint{color:var(--muted); font-size:12px}
    h2,h3{margin:0 0 12px 0; font-family:"Courier New", Courier, monospace;}
    ul{margin:8px 0 0 18px}
    .kpis{display:flex; gap:16px; flex-wrap:wrap}
    .kpi{background:#0f1630; border:1px solid #1e2a52; border-radius:12px; padding:10px 12px; font-size:13px}
    .list{list-style:none; padding:0; margin:0}
    .list li{display:flex; justify-content:space-between; gap:12px; padding:8px 0; border-bottom:1px dashed #233056}
    .asset-name{overflow:hidden; text-overflow:ellipsis; white-space:nowrap}
    .badge{display:inline-block; font-size:12px; padding:2px 8px; border-radius:999px; border:1px solid var(--brand-l); color:var(--brand-l)}
    footer{margin-top:28px; color:var(--muted); font-size:12px}
    code{background:#0f1630; padding:2px 6px; border-radius:6px; border:1px solid #1e2a52}
  </style>
</head>
<body>
  <div class="wrap">
    <!-- HERO -->
    <div class="hero">
      <picture>
        <source srcset="fixed-chordalift-logo.svg" type="image/svg+xml">
        <img class="logo" src="chordalift-logo-1600.png" alt="Chordalift Logo">
      </picture>
      <div>
        <h1 class="title">Chordalift</h1>
        <p class="tag">
          é‡‹æ”¾æ‚¨çš„è²éŸ³ï¼šæ·±å…¥éŸ³æ¨‚å‰µæ–°ï¼<br>
          <small>Unleash Your Sound: Dive Deeper into Musical Innovation!</small>
        </p>
        <div class="kpis" style="margin-top:10px">
          <div class="kpi">Windows 10/11ï¼ˆx64ï¼‰</div>
          <div class="kpi">Licenseï¼šè‡ªå®š EULA</div>
          <div class="kpi">Supportï¼šhedro5493@gmail.com</div>
        </div>
      </div>
    </div>

    <!-- CTA (static) -->
    <div class="card" style="margin-top:18px">
      <h2>ä¸‹è¼‰ Download</h2>
      <div class="btn-row" style="margin:8px 0 6px 0">
        <a class="btn" href="https://github.com/pijiawei03281/chordalift/releases/latest">â¬‡ å–å¾—æœ€æ–°ç‰ˆæœ¬ï¼ˆReleasesï¼‰</a>
        <a class="btn secondary" href="https://github.com/pijiawei03281/chordalift">åŸå§‹ç¢¼ Repo</a>
      </div>
      <div class="hint">é™„ <code>SHA256SUMS.txt</code> å¯æ ¡é©—å®Œæ•´æ€§ã€‚è‹¥ Windows å‡ºç¾ SmartScreenï¼Œè«‹é»ã€Œæ›´å¤šè³‡è¨Š â†’ ä»è¦åŸ·è¡Œã€ã€‚</div>
    </div>

    <!-- Auto Releases Widget -->
    <div class="grid">
      <section class="card col-6">
        <h3>æœ€æ–°ç‰ˆæœ¬æ‘˜è¦ <span id="rel-tag" class="badge">loadingâ€¦</span></h3>
        <ul id="assets" class="list"></ul>
        <div class="hint" id="rel-hint"></div>
      </section>

      <section class="card col-6">
        <h3>ä½¿ç”¨æŒ‡å—ï¼ˆPDFï¼‰</h3>
        <ul id="guides" class="list"></ul>
        <div class="hint">è‹¥æ¸…å–®ç‚ºç©ºï¼Œè«‹è‡³ Releases ä¸‹è¼‰ã€‚</div>
      </section>

      <section class="card col-12">
        <h3>å¸¸è¦‹å•é¡Œï¼ˆFAQï¼‰</h3>
        <ul>
          <li>ç‚ºä»€éº¼åšé€™å€‹ï¼Ÿâ€” æ”¯æ´ Chorda ç©å®¶ï¼Œè£œé½Šå®˜æ–¹ App ç¼ºä½ã€‚</li>
          <li>éœ€è¦ä»˜è²»å—ï¼Ÿâ€” ä¸ç”¨ï¼Œå®Œå…¨å…è²»ã€‚</li>
          <li>å®‰å…¨æ€§ï¼Ÿâ€” æä¾› <code>SHA256SUMS.txt</code>ï¼Œå¯åœ¨ PowerShell ç”¨ <code>Get-FileHash</code> é©—è­‰ã€‚</li>
        </ul>
      </section>
    </div>

    <footer>
      æœ¬å°ˆæ¡ˆç‚ºç¤¾ç¾¤ç¶­è­·ï¼Œé Artiphon/Chorda å®˜æ–¹ï¼›ä»¥ã€Œç¾æ³ã€æä¾›ï¼Œä½¿ç”¨é¢¨éšªè‡ªè² ã€‚&nbsp;|&nbsp;
      Â© <span id="year"></span> Chordalift ç¤¾ç¾¤è¨ˆç•«
    </footer>
  </div>

  <!-- Client-side Release Loaderï¼ˆç„¡ä¼ºæœå™¨ï¼Œç›´æ¥å‘¼å« GitHub APIï¼‰ -->
  <script>
    (function(){
      const owner = "pijiawei03281";
      const repo  = "chordalift";
      const assetsEl = document.getElementById("assets");
      const guidesEl = document.getElementById("guides");
      const tagEl    = document.getElementById("rel-tag");
      const hintEl   = document.getElementById("rel-hint");
      const yearEl   = document.getElementById("year");
      yearEl.textContent = new Date().getFullYear();

      function fmtBytes(n){
        if(!Number.isFinite(n)) return "";
        const u=["B","KB","MB","GB"]; let i=0;
        while(n>=1024 && i<u.length-1){ n/=1024; i++; }
        return n.toFixed(n<10 && i>0 ? 1 : 0) + " " + u[i];
      }
      function icon(name){
        const n=name.toLowerCase();
        if(n.endsWith(".exe")) return "ğŸªŸ";
        if(n.endsWith(".pdf")) return "ğŸ“„";
        if(n.endsWith(".txt")) return "ğŸ”’";
        if(n.endsWith(".zip")) return "ğŸ—œï¸";
        return "ğŸ“¦";
      }

      fetch(`https://api.github.com/repos/${owner}/${repo}/releases/latest`)
        .then(r=>r.json())
        .then(data=>{
          if(!data || !data.tag_name){ throw new Error("no release"); }
          tagEl.textContent = data.tag_name;
          hintEl.textContent = (data.published_at ? ("Published: " + new Date(data.published_at).toLocaleString()) : "");

          const assets = Array.isArray(data.assets) ? data.assets : [];
          const exeAssets = assets.filter(a => /\.exe$/i.test(a.name));
          const sumAssets = assets.filter(a => /sha256sums\.txt$/i.test(a.name));
          const pdfAssets = assets.filter(a => /\.pdf$/i.test(a.name));

          // å·¦é‚Šï¼šæ‰€æœ‰è³‡ç”¢ï¼ˆé‡é»æ”¾ .exe èˆ‡ SHAï¼‰
          assetsEl.innerHTML = (exeAssets.concat(sumAssets)).map(a => `
            <li>
              <span class="asset-name">${icon(a.name)} ${a.name}</span>
              <a class="btn secondary" href="${a.browser_download_url}">ä¸‹è¼‰ï¼ˆ${fmtBytes(a.size)}ï¼‰</a>
            </li>
          `).join("") || `<li><span class="asset-name">æš«ç„¡è³‡ç”¢</span></li>`;

          // å³é‚Šï¼šPDF æŒ‡å—
          guidesEl.innerHTML = pdfAssets.map(a => `
            <li>
              <span class="asset-name">ğŸ“„ ${a.name}</span>
              <a class="btn secondary" href="${a.browser_download_url}">ä¸‹è¼‰ï¼ˆ${fmtBytes(a.size)}ï¼‰</a>
            </li>
          `).join("") || `<li><span class="asset-name">å°šæœªä¸Šå‚³æŒ‡å— PDF</span></li>`;
        })
        .catch(()=>{
          tagEl.textContent = "ç„¡æ³•å–å¾—";
          assetsEl.innerHTML = `
            <li><span class="asset-name">API å—é™æˆ–å°šç„¡ Releases</span>
            <a class="btn secondary" href="https://github.com/${owner}/${repo}/releases/latest">å‰å¾€ Releases</a></li>`;
        });
    })();
  </script>
</body>
</html>
